<div class="page-header">
  <h2>
    Home
  </h2>
</div>

<head>
    <!--Load the AJAX API-->
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">

      // Load the Visualization API and the corechart package.
      google.charts.load('current', {'packages':['corechart']});

      // Set a callback to run when the Google Visualization API is loaded.
      google.charts.setOnLoadCallback(drawStackedChart);

      google.charts.setOnLoadCallback(drawLineChart);

      // Callback that creates and populates a data table,
      // instantiates the pie chart, passes in the data and
      // draws it.
      function drawStackedChart() {

        // Create the data table.
        var data = google.visualization.arrayToDataTable([
        ['','Travel', 'Home', 'Eat', 'Shop',
           { role: 'annotation' } ],
        ['Me', 10, 24, 20, 32, ''],
        ['Community', 16, 22, 23, 30, '']
      ]);

        // Set chart options
        var options = {
        title: 'Carbon Footprint comparison',
        height: 200,
        legend: { position: 'top', maxLines: 3 },
        bar: { groupWidth: '75%' },
        isStacked: true
      };

        // Instantiate and draw our chart, passing in some options.
        var chart = new google.visualization.BarChart(document.getElementById('chart_div'));
        chart.draw(data, options);
      }

      function drawLineChart() {
        var data = google.visualization.arrayToDataTable([
          ['Year', 'Me', 'Community'],
          ['2004',  1200,      1500],
          ['2005',  1000,      1300],
          ['2006',  1100,       1200],
          ['2007',  800,      900]
        ]);

        var options = {
          title: 'Timeline',
          curveType: 'function',
          legend: { position: 'bottom' }
        };

        var chart = new google.visualization.LineChart(document.getElementById('curve_chart'));

        chart.draw(data, options);
      }
      </script>
</head>

<div class="row">
  <div class="col-md-12">
    <form action="..." method="post">
      <!-- Hidden input for authenticity token to protect from forgery -->
      <input name="authenticity_token" type="hidden" value="<%= form_authenticity_token %>">

      <!-- Label and input for name -->
      <div class="form-group">
        <label for="name" class="control-label">
          Plan journey
        </label>

        <input type="text" id="name" placeholder="Destination" name="name" class="form-control">
      </div>

    </form>
  </div>
</div>

<hr>

<div class="panel panel-info">
  <div class="panel-heading">
    <h3 class="panel-title">Latest statistics</h3>
  </div>
  <div class="panel-body">

<!--Div that will hold the column chart-->
<div id="chart_div"></div>

<div id="curve_chart" style="height: 300px"></div>


</div>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-76472669-1', 'auto');
  ga('send', 'pageview');

</script>
